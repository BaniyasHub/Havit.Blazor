@page "/migrating-to-v3"

<h1>Migrating to v3</h1>
<p class="lead">Migration your projects to version 3 is pretty easy.</p>

<h3>1. Update references to our NuGet package</h3>
<p>Update the <a href="https://www.nuget.org/packages/Havit.Blazor.Components.Web.Bootstrap/">Havit.Blazor.Components.Web.Bootstrap</a> package through NuGet Package Manager or with following command:</p>
<CodeSnippet Language="none">dotnet add package Havit.Blazor.Components.Web.Bootstrap</CodeSnippet>

<h3>2. Update Bootstrap CSS and JS references</h3>
<h5>CSS</h5>
<p>If you are using Bootstrap CSS from CDN, update the following line in your HTML head section, it's either <code>index.html</code> or <code>_Host.cshtml</code> depending on whether you're running WebAssembly or Server:</p>
<CodeSnippet Language="razor">&lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous"&gt;</CodeSnippet>
<p>
    If you are referencing our Bootstrap CSS build <code>_content/Havit.Blazor.Components.Web.Bootstrap/bootstrap.css</code>, it is updated automatically. 
    If you are referencing your custom Bootstrap build/theme, upgrade it to Boostrap 5.2.
</p>

<h5>Bootstrap JavaScript Bundle</h5>
<p>At the end of HTML <code>&lt;body&gt;</code> section of either <code>index.html</code> or <code>_Host.cshtml</code> update this line referencing Bootstrap JavaScript Bundle (with Popper) from CDN:</p>
<CodeSnippet File="~\Pages\GettingStarted_JavaScript.CodeSnippet.html" />

<h3>3. Resolve breaking changes ⚠️</h3>

<h5>3.1 <code>HxOffcanvas</code> backdrop</h5>
<p>Replace the original <code>boolean HxOffcanvas.BackdropEnabled</code> parameter with new enum-based <code>OffcanvasBackdrop HxOffcanvas.Backdrop</code>:</p>
<CodeSnippet Language="razor" File="~\Pages\Migrations\MigratingToV3_HxOffcanvasBackdrop.CodeSnippet.razor" />
<p>Same applies for <code>OffcanvasSettings</code> used for <code>HxOffcanvas.Defaults.</code></p>

<h5>3.2 <code>HxModal</code> backdrop</h5>
<p>Replace the original <code>boolean HxModal.UseStaticBackdrop</code> parameter with new enum-based <code>ModalBackdrop HxModal.Backdrop</code>:</p>
<CodeSnippet Language="razor" File="~\Pages\Migrations\MigratingToV3_HxModalBackdrop.CodeSnippet.razor" />
<p>Same applies for <code>ModalSettings</code> used for <code>HxModal.Defaults</code> and <code>HxMessageBox.Defaults.ModalSettings</code>.</p>

<DocAlert Type="DocAlertType.Warning">
    In v2, the default for <code>HxModal</code> backdrop was <code>static</code>.<br />
    For v3, we decided to stick with Bootstrap's backdrop default of <code>true</code> for generic <code>HxModal</code> component (includes <code>HxDialogBase</code>) and the <code>static</code> is used only as default for <code>HxMessageBox</code>.<br />
</DocAlert>
<p>If you want to keep the original backdrop bahavior from v2, add following line to your <code>Program.cs</code>:</p>
<CodeSnippet Language="csharp">HxModal.Defaults.Backdrop = ModalBackdrop.Static;</CodeSnippet>

<h5>3.3 <code>HxGrid</code> pager</h5>
<p>If you were using <code>PagerCssClass</code> in v2, replace it with new <code>PagerSettings</code> parameter:</p>
<CodeSnippet Language="razor" File="~\Pages\Migrations\MigratingToV3_HxGridPagerSettings.CodeSnippet.razor" />

<h5>4. [OPTIONAL] Replace obsolete components with new ones</h5>
<p>
    We replaced <code>HxInputCheckbox</code> with new <code>HxCheckbox</code> and <code>HxInputSwitch</code> with new <code>HxSwitch</code>.<br />
    The original <code>Label</code> parameter is now <code>Text</code> (the <code>Label</code> parameter of new components has a different purpose, see <a href="/components/HxCheckbox"><code>HxCheckbox</code> documentation</a>).
</p>
<CodeSnippet Language="razor" File="~\Pages\Migrations\MigratingToV3_HxCheckbox_HxSwitch.CodeSnippet.razor" />
<p>The old components are marked as <code>[Obsolete]</code>, which will cause compile-time warnings (or errors if escalation is configured).</p>