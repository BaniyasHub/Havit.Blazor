@namespace Havit.Blazor.Components.Web.Bootstrap 
@typeparam TValue


<div class="hx-tree-view-item @(Value.IsSelected ? "selected" : "")" @onclick="@OnItemClicked">
    @for (int i = 0; i < Value.Level; i++) {
        <div class="hx-tree-view-item-spacer"></div>
    }
    <div class="hx-tree-view-item-expander @(Value.IsExpanded ? "expanded" : "")">
        @if (Value.HasChildren)
        {
            <div>
                <HxIcon Icon="@BootstrapIcon.ChevronRight"/>
            </div>
        }
    </div>
    @if (Value.Icon != null)
    {
        <div class="hx-tree-view-item-icon">
            <HxIcon Icon="@Value.Icon" />
        </div>
    }
    <div title="@Value.Title" class="hx-tree-view-item-value text-nowrap text-truncate">@Value.Title</div>
</div>


@if (Value.HasChildren && Value.IsExpanded)
{
    foreach (var item in @Value.Children)
    {
        <HxTreeViewItem TValue="TValue" Value="item"/>
    }
}