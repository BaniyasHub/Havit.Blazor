<div>
	<div class="d-lg-flex mb-4">
		<div class="title">
			<div class="dropdown">
				<a role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				@if (TitleSection != null)
				{
					@TitleSection
				}
				else if (!String.IsNullOrEmpty(Title))
				{
					@Title
				}
				<svg class="bi bi-chevron-down p-1" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
					<path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"/>
				</svg>
			  </a>
				@if (NamedViewsSection != null)
				{
					@NamedViewsSection
				}
			</div>
		</div>

		@if (SearchSection != null)
		{
			<div class="search mb-3 mb-lg-0">
				@SearchSection
			</div>
		}

		<div class="commands text-right">
			@if (FilterSection != null)
			{
				<HxButton OnClick="ToggleFilterDrawer">Filtrovat</HxButton>
			}
			<HxButton OnClick="ToggleDetailDrawer">Otevřít Drawer</HxButton>
			@if (CommandsSection != null)
			{
				@CommandsSection
			}
		</div>
	</div>

	@if (FilterSection != null)
	{
		<HxDrawer IsOpen="@FilterDrawerOpen">
			<TitleSection>
				<button class="close" @onclick="ToggleFilterDrawer">
					<svg class="bi bi-x" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"/>
						<path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"/>
					</svg>
				</button>
			</TitleSection>
			<BodySection>
				<CascadingValue Value="@FilterDrawerOpen" Name="FilterDrawerOpen"> @* TODO pojmenování, konstanta *@ @* Kam může programátor napsat, že chce filtr by default expandovaný? *@
					@FilterSection
				</CascadingValue>
			</BodySection>
		</HxDrawer>
	}

	@if (DataSection != null)
	{
		<div>@DataSection</div>
	}

	@if (DetailSection != null)
	{
		@*TODO: Otevření jen, je-li vybrán záznam pro zobrazení detailu. Používání detailu zapnuto použitím sekce? *@
		@*TODO: Kdo řídí vybrání detailu?*@
		<HxDrawer IsOpen="@DetailDrawerOpen">
			<TitleSection>
				<button class="close" @onclick="ToggleDetailDrawer">
					<svg class="bi bi-x" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"/>
						<path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"/>
					</svg>
				</button>
			</TitleSection>
			<BodySection>
				@DetailSection
			</BodySection>
		</HxDrawer>
	}
</div>